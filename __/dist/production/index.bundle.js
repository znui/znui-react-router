(function(t,e){for(var n in e)t[n]=e[n]})(this,function(n){var r={};function o(t){if(r[t]){return r[t].exports}var e=r[t]={i:t,l:false,exports:{}};n[t].call(e.exports,e,e.exports,o);e.l=true;return e.exports}o.m=n;o.c=r;o.d=function(t,e,n){if(!o.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:n})}};o.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};o.t=function(e,t){if(t&1)e=o(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);o.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};o.p="";return o(o.s=2)}([function(t,e){(function(){t.exports=this["React"]})()},function(t,e,n){t.exports={Error404:n(8)}},function(t,e,n){n(3);t.exports={HashRouter:n(4),Route:n(9)}},function(t,e){t.exports=zn.Class({static:true,methods:{init:function t(){this.fixWindowHashChange()},fixWindowHashChange:function t(){if(!window.HashChangeEvent){(function(){var e=document.URL;window.addEventListener("hashchange",function(t){Object.defineProperty(t,"oldURL",{enumerable:true,configurable:true,value:e});Object.defineProperty(t,"newURL",{enumerable:true,configurable:true,value:document.URL});e=document.URL})})()}}}})},function(t,e,n){var r=znui.React||n(0);var o=n(5);var s=n(1);t.exports=r.createClass({displayName:"ZRHashRouter",getInitialState:function t(){return{Component:null,ComponentProps:null}},componentDidMount:function t(){this.__initHandler()},__initHandler:function t(){new o(this.props,{hashchange:this.__hashchange,handler:this.__handler,request:this.__request,notfound:this.__notfound})},__hashchange:function t(e,n){},__handler:function t(e,n,r){},__request:function t(e,n,r){this.setState({Component:r.component,ComponentProps:zn.extend({},r.props,{application:this.props.application,config:this.props.application._config,request:n,router:this,route:r})})},push:function t(){},forward:function t(){},notfound:function t(e){this.setState({Component:s.Error404,ComponentProps:{request:e}})},__notfound:function t(e,n){this.notfound(n)},render:function t(){return r.createElement("div",{className:znui.react.classname("zr-hash-router",this.props.className),style:this.props.style},this.state.Component&&r.createElement(this.state.Component,this.state.ComponentProps))}})},function(t,e,n){var r=n(6);t.exports=zn.Class(r,{events:["hashchange","handler"],methods:{init:function t(e,n){if(this["super"].caller){this["super"](e)}else{this.constructor._super_.prototype.init(e)}this.__initEvents(n||{});if(e.main&&!location.hash){location.hash=e.main}else{this.__hashchange()}window.addEventListener("hashchange",this.__hashchange.bind(this),false)},__initEvents:function t(e){for(var n in e){this.on(n,e[n],this)}},__hashchange:function t(e){var n=this.fire("hashchange",e);if(n===false)return false;var r=this.__parseHash(),o=this.createRequest(r,e);n=this.fire("handler",e,r);if(n===false)return false;this.doRequest(o)},__parseHash:function t(){var e=location.hash,n=location.search,r=e.indexOf("?");if(n&&n.indexOf("?")!==-1){n=n.replace("?","")}if(r!==-1){n=n+"&"+e.substring(r+1);e=e.substring(0,r)}return{path:e.substring(1),search:zn.querystring.parse(n)}}}})},function(t,e,n){var r=n(7);t.exports=zn.Class({events:["request","notfound"],properties:{requests:null,routes:null},methods:{init:function t(e){this._requests=[];this._routes=[];this._matcher=new r(e);this.loadPlugins(e.plugins);this.loadRoutes(e.routes)},createRequest:function t(e,n){e.event=n;return this._requests.push(e),e},doRequest:function t(e){var n=this._matcher.getRouteForRequest(e,this._routes);e.matcher=this._matcher;if(n){this.fire("request",e,n)}else{this.fire("notfound",e)}},loadPlugins:function t(e){var n=e||[];switch(zn.type(e)){case"string":n=[e];break;case"function":n=e(this);break}if(n&&n.length){e.forEach(function(t){})}},loadPlugin:function t(){},loadRoutes:function t(e){var n=this._matcher.formatRoutes(e);return this._routes=this._routes.concat(n),n},loadRoute:function t(e){this._routes.push(this._matcher.formatRoute(e))}}})},function(t,e){t.exports=zn.Class({properties:{pathSeparator:null,pathParameterSymbol:null},methods:{init:function t(e,n){this._pathSeparator=e.pathSeparator||"/";this._pathParameterSymbol=e.pathParameterSymbol||":"},formatRoute:function t(e){e.paths=this.__parseRoutePaths(e.path);e.props=zn.extend({},e.props);if(e.exact==null){e.exact=true}return e},formatRoutes:function t(e){var n=this;var r=[];if(zn.is(e,"object")){for(var o in e){r.push(this.__loadPathAndComponent(o,e[o]))}}else if(zn.is(e,"array")){return e.map(function(t){return n.formatRoute(t)})}else if(zn.is(e,"function")){return this.formatRoutes(e.call(this))}return r},getRouteForRequest:function t(e,n){var r=n,o=null,s=null;for(var i=0,a=r.length;i<a;i++){o=r[i];s=this.__matchRouteAndRequest(o,e);if(s){break}}if(!s||!o){return}return e.params=s,o},__isReactComponent:function t(e){if(e&&zn.is(e,"function")&&(e.prototype.render||e.displayName)){return true}return false},__loadPathAndComponent:function t(e,n){var r={path:e};if(zn.is(n,"string")){r.component=zn.path(window,n)}else if(zn.is(n,"function")){if(!this.__isReactComponent(n)){r.component=n.call(this,e,this)}else{r.component=n}}else if(zn.is(n,"object")){zn.extend(r,n)}return this.formatRoute(r)},__matchRouteAndRequest:function t(e,n){var r=e.paths,o=null,s={},i=[],a=false,u=null,h=n.path.split(this._pathSeparator);if(e.routes&&Object.keys(e.routes).length){if(e.exact==null){e.exact=false}}if(e.exact){if(e.path===n.path){return n.unmatchs=i,s}if(h.length!==r.length){return false}}for(var p=0,c=h.length;p<c;p++){u=h[p];if(!u){continue}o=r[p];a=true;if(!o){i.push(u);continue}if(!o.isParameter&&u!==o.key){return false}if(o.isParameter){s[o.key]=u}}if(!a){return false}return n.unmatchs=i,s},__parseRoutePaths:function t(e){var n=[],r=null,o=e.split(this._pathSeparator);for(var s=0,i=o.length;s<i;s++){r=o[s];if(!r){continue}if(/^:\w[\w\d]*$/.test(r)){r=r.replace(/^:/,"");n[s]={key:r,isParameter:true}}else{n[s]={key:r}}}return n}}})},function(t,e,n){var r=znui.React||n(0);t.exports=r.createClass({displayName:"Error404",render:function t(){return r.createElement("div",{className:znui.react.classname("zr-router-error-404",this.props.className),style:this.props.style},r.createElement("div",{className:"error-header"},r.createElement("h3",null,"ERROR: 404")),r.createElement("div",{className:"error-body"},"The path ",r.createElement("span",{className:"path"},this.props.request.path)," is not found."),r.createElement("div",{className:"error-footer"}))}})},function(t,e,n){var r=znui.React||n(0);var i=n(1);var o=r.createClass({displayName:"ZRRoute",__handler:function t(){var e=this.props.request,n=e.matcher,r={path:e.path.replace(this.props.route.path,""),search:e.search,event:e.event,matcher:n},o=n.formatRoutes(this.__mergeRoutesAndPlugins(this.props.route.routes,this.props.route.plugins)),s=n.getRouteForRequest(r,o);if(s){return{Component:s.component,ComponentProps:zn.extend({},s.props,{application:this.props.application,config:this.props.config,parent:this,parentRequest:e,route:s,router:this.props.router,request:r})}}else{return{Component:i.Error404,ComponentProps:{application:this.props.application,config:this.props.config,parent:this,parentRequest:e,router:this.props.router,request:r}}}},__mergeRoutesAndPlugins:function t(e,n){return e},__getComponent:function t(){return this.__handler()},render:function t(){if(this.props.request&&this.props.route&&this.props.route.routes){var e=this.__getComponent();return r.createElement("div",{className:znui.react.classname("zr-route",this.props.className),style:this.props.style},e.Component&&r.createElement(e.Component,e.ComponentProps))}else{return null}}});t.exports=o}]));