!function(t,e){for(var n in e)t[n]=e[n]}(this,function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){!function(){t.exports=this.React}()},function(t,e,n){t.exports={Error404:n(8)}},function(t,e,n){n(3),t.exports={HashRouter:n(4),Route:n(9)}},function(t,e){t.exports=zn.Class({static:!0,methods:{init:function(){this.fixWindowHashChange()},fixWindowHashChange:function(){var t;window.HashChangeEvent||(t=document.URL,window.addEventListener("hashchange",(function(e){Object.defineProperty(e,"oldURL",{enumerable:!0,configurable:!0,value:t}),Object.defineProperty(e,"newURL",{enumerable:!0,configurable:!0,value:document.URL}),t=document.URL})))}}})},function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r=znui.React||n(0),s=n(5),i=n(1);t.exports=r.createClass({displayName:"ZRHashRouter",getInitialState:function(){return{component:null,Component:null,ComponentProps:null}},componentDidMount:function(){this.__initHandler()},__initHandler:function(){this._handler=new s(this.props,{hashchange:this.__hashchange,handler:this.__handler,request:this.__request,notfound:this.__notfound,pluginloaded:this.__pluginLoaded}),this.props.onInitHandler&&this.props.onInitHandler(this._handler,this)},__hashchange:function(t,e){this.props.onHashChange&&this.props.onHashChange(e,this)},__handler:function(t,e,n){this.props.onHandler&&this.props.onHandler(e,n,this)},__request:function(t,e,n){n.component&&"object"==o(n.component)&&n.component.$$typeof?this.setState({component:n.component}):this.setState({Component:n.component,ComponentProps:zn.extend({},n.props,{application:this.props.application,request:e,router:this,route:n})}),this.props.onRequest&&this.props.onRequest(e,n,this)},__notfound:function(t,e){this.notfound(e),this.props.onNotFound&&this.props.onNotFound(e,this)},__pluginLoaded:function(t,e){this.props.onPluginLoaded&&this.props.onPluginLoaded(e,this)},push:function(){},forward:function(){},notfound:function(t){this.setState({Component:i.Error404,ComponentProps:{request:t}})},render:function(){return r.createElement("div",{className:znui.react.classname("zr-hash-router",this.props.className),style:this.props.style},this.state.component,this.state.Component&&r.createElement(this.state.Component,this.state.ComponentProps))}})},function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r=n(6);t.exports=zn.Class(r,{events:["hashchange","handler"],properties:{},methods:{init:function(t,e){this.__initEvents(e),this.super.caller?this.super(t):this.constructor._super_.prototype.init(t,e),this._main.length&&!location.hash?location.hash=this._main.pop():this.__hashchange(),window.addEventListener("hashchange",this.__hashchange.bind(this),!1)},__initEvents:function(t){if(t&&"object"==o(t))for(var e in t)this.on(e,t[e],this)},__hashchange:function(t){var e=this.fire("hashchange",t);if(!1===e)return!1;var n=this.__parseHash(),o=this.createRequest(n,t);if(!1===(e=this.fire("handler",t,n)))return!1;this.doRequest(o)},__parseHash:function(){var t=location.hash,e=location.search,n=t.indexOf("?");return e&&-1!==e.indexOf("?")&&(e=e.replace("?","")),-1!==n&&(e=e+"&"+t.substring(n+1),t=t.substring(0,n)),{path:t.substring(1),search:zn.querystring.parse(e)}}}})},function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r=n(7);t.exports=zn.Class({events:["request","notfound","pluginLoading","pluginLoaded"],properties:{requests:null,routes:null,plugins:null,main:null,matcher:null},methods:{init:function(t,e){this._requests=[],this._routes=[],this._plugins=[],this._main=[],this._matcher=new r(t,{pluginLoaded:function(t,e){this.fire("pluginLoaded",e)}.bind(this)}),this.__initEvents(e),this.loadPlugins(t.plugins),this.loadRoutes(t.routes),t.main&&this._main.push(t.main)},__initEvents:function(t){if(t&&"object"==o(t))for(var e in t)this.on(e,t[e],this)},createRequest:function(t,e){return t.event=e,this._requests.push(t),t},doRequest:function(t){var e=this._matcher.getRouteForRequest(t,this._routes);t.matcher=this._matcher,e?this.fire("request",t,e):this.fire("notfound",t)},loadPlugins:function(t){var e=t||[];switch(zn.type(t)){case"string":e=[t];break;case"function":e=t(this)}return e&&e.length&&t.forEach(function(t){this.loadPlugin(t)}.bind(this)),this},loadPlugin:function(t){var e=t||{};if(!1!==this.fire("pluginLoading",t)){switch(zn.type(t)){case"object":break;case"function":e=e(this)}e.main&&this._main.push(e.main),e.namespace&&e.components&&zn.path(window,e.namespace,e.components);var n=this._matcher.formatRoutes(e.routes||[]);return e.__routes__=n,this._plugins.push(e),this.fire("pluginLoaded",e),this._routes=this._routes.concat(n),n}},loadRoutes:function(t){var e=this._matcher.formatRoutes(t);return this._routes=this._routes.concat(e),e},loadRoute:function(t){this._routes.push(this._matcher.formatRoute(t))}}})},function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t.exports=zn.Class({events:["pluginLoading","pluginLoaded","routeLoading","routeLoaded"],properties:{pathSeparator:null,pathParameterSymbol:null},methods:{init:function(t,e){this.__initEvents(e),this._pathSeparator=t.pathSeparator||"/",this._pathParameterSymbol=t.pathParameterSymbol||":"},__initEvents:function(t){if(t&&"object"==n(t))for(var e in t)this.on(e,t[e],this)},formatRoute:function(t,e){if(!1!==this.fire("routeLoading",t,e))return e&&(t.__parent__=e),t.paths=this.__parseRoutePaths(t.path),t.props=zn.extend({},t.props),null==t.exact&&-1===t.path.indexOf(this._pathParameterSymbol)&&(t.exact=!0),this.fire("routeLoaded",t),t},formatRoutes:function(t,e){var n=this;switch(zn.type(t)){case"object":var o=[];for(var r in t)o.push(this.__loadPathAndComponent(r,t[r],e));return o;case"array":o=[];return t.forEach((function(t){switch(zn.type(t)){case"object":o=o.concat(n.formatRoutes(t,e));break;case"string":o.push(n.__loadPathAndComponent(t,null,e));break;case"array":o=o.concat(n.formatRoutes(t,e))}})),o;case"function":return this.formatRoutes(t.call(null,e,this),e)}},getRouteForRequest:function(t,e){for(var n=e,o=null,r=null,s=0,i=n.length;s<i&&(o=n[s],!(r=this.__matchRouteAndRequest(o,t)));s++);if(r&&o)return t.params=r,o},getRoutesFromRoute:function(t){var e=[],n=t.component;if(t.routes&&(e=this.formatRoutes(t.routes,t)),t.plugins){var o=this.__loadPlugins(t.plugins,t);e=e.concat(o.routes),!n&&o.main.length&&(n=o.main.pop())}return{routes:e,component:n}},__isReactComponent:function(t){return!!(t&&zn.is(t,"function")&&(t.prototype.render||t.displayName||t.prototype.isReactComponent))},__loadPathAndComponent:function(t,e,n){var o={path:t};switch(zn.type(e)){case"string":o.component=zn.path(window,e);break;case"function":this.__isReactComponent(e)?o.component=e:o.component=e.call(this,t,this);break;case"object":e.$$typeof?o.component=e:0==e.constructor.toString().indexOf("function Object")&&(zn.extend(o,e),!1!==o.extension&&this.__initRoute(o))}return this.formatRoute(o,n)},__initRoute:function(t){if(t.routes&&(t.__routes__=this.formatRoutes(t.routes,t)),t.plugins){var e=this.__loadPlugins(t.plugins,t);t.__routes__?t.__routes__=t.__routes__.concat(e.routes):t.__routes__=e.routes,t.main=e.main,!t.component&&e.main.length&&(t.component=e.main.pop())}return t},__loadPlugins:function(t,e){var n=t||[],o=null,r=[],s=[],i=null;switch(zn.type(t)){case"object":n=[t];break;case"function":n=t(this)}return n&&n.length&&t.forEach(function(t){if((o=this.__loadPlugin(t,e))&&(o.__routes__&&(r=r.concat(o.__routes__)),o.main)){switch(i=o.main,zn.type(s)){case"string":i=o.routes[i]||zn.path(o.components,i)||zn.path(window,i);break;case"function":"function Function() { [native code] }"==i.constructor.toString()&&(i=i(this));break;default:return}s.push(i)}}.bind(this)),{routes:r,main:s}},__loadPlugin:function(t,e){var n=t||{};if(!1!==this.fire("pluginLoading",t,e)){switch(zn.type(t)){case"object":break;case"function":n=n(this)}return n.namespace&&n.components&&zn.path(window,n.namespace,n.components),n.__routes__=this.formatRoutes(n.routes||[],e),this.fire("pluginLoaded",n),n}},__matchRouteAndRequest:function(t,e){var n=t.paths,o=null,r={},s=[],i=!1,a=null,u=e.path.split(this._pathSeparator);if(t.routes&&Object.keys(t.routes).length&&null==t.exact&&(t.exact=!1),t.exact){if(t.path===e.path)return e.unmatchs=s,r;if(u.length!==n.length)return!1}for(var p=0,c=u.length;p<c;p++)if(a=u[p])if(i=!0,o=n[p]){if(!o.isParameter&&a!==o.key)return!1;o.isParameter&&(r[o.key]=a)}else s.push(a);return!!i&&(e.unmatchs=s,r)},__parseRoutePaths:function(t){for(var e=[],n=null,o=t.split(this._pathSeparator),r=0,s=o.length;r<s;r++)(n=o[r])&&(/^:\w[\w\d]*$/.test(n)?(n=n.replace(/^:/,""),e[r]={key:n,isParameter:!0}):e[r]={key:n});return e}}})},function(t,e,n){var o=znui.React||n(0);t.exports=o.createClass({displayName:"Error404",render:function(){return o.createElement("div",{className:znui.react.classname("zr-router-error-404",this.props.className),style:this.props.style},o.createElement("div",{className:"error-header"},o.createElement("h3",null,"ERROR: 404")),o.createElement("div",{className:"error-body"},"The path ",o.createElement("span",{className:"path"},this.props.request.path)," is not found."),o.createElement("div",{className:"error-footer"}))}})},function(t,e,n){var o=znui.React||n(0),r=n(1),s=o.createClass({displayName:"ZRRoute",__handler:function(){var t,e=this.props.request,n=e.matcher,o={path:e.path.replace(this.props.route.path,""),search:e.search,event:e.event,matcher:n},s=this.props.route.__routes__,i=null;if(!s){var a=n.getRoutesFromRoute(this.props.route);s=a.routes,i=a.component}return(t=n.getRouteForRequest(o,s))?{Component:t.component||i,ComponentProps:zn.extend({},t.props,{application:this.props.application,parent:this,parentRequest:e,route:t,router:this.props.router,request:o})}:{Component:r.Error404,ComponentProps:{application:this.props.application,parent:this,parentRequest:e,router:this.props.router,request:o}}},__getComponent:function(){return this.__handler()},render:function(){if(this.props.request&&this.props.route&&this.props.route.routes){var t=this.__getComponent();return o.createElement("div",{className:znui.react.classname("zr-route",this.props.className),style:this.props.style},t.Component&&o.createElement(t.Component,t.ComponentProps))}return null}});t.exports=s}]));